<script>
        document.getElementById('prediction-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Collect data from all form fields
            const formData = {
                age: parseInt(document.getElementById('age').value),
                sex: parseInt(document.getElementById('sex').value),
                cp: parseInt(document.getElementById('cp').value),
                trestbps: parseInt(document.getElementById('trestbps').value),
                chol: parseInt(document.getElementById('chol').value),
                fbs: parseInt(document.getElementById('fbs').value),
                restecg: parseInt(document.getElementById('restecg').value),
                thalach: parseInt(document.getElementById('thalach').value),
                exang: parseInt(document.getElementById('exang').value),
                oldpeak: parseFloat(document.getElementById('oldpeak').value),
                slope: parseInt(document.getElementById('slope').value)
            };

            const resultDiv = document.getElementById('prediction-result');

            // Send data to the Flask backend API
            fetch('http://127.0.0.1:5000/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
            })
            .then(response => response.json())
            .then(data => {
                // Update the page with the real prediction
                let predictionText = '';
                let riskClass = '';

                if (data.prediction === 1) {
                    predictionText = "High Risk of Heart Disease";
                    riskClass = 'high-risk';
                } else {
                    predictionText = "Low Risk of Heart Disease";
                    riskClass = 'low-risk';
                }

                resultDiv.textContent = predictionText;
                resultDiv.className = 'result ' + riskClass;
                resultDiv.style.display = 'block';
            })
            .catch((error) => {
                console.error('Error:', error);
                resultDiv.textContent = "Error: Could not connect to the model.";
                resultDiv.className = 'result high-risk';
                resultDiv.style.display = 'block';
            });
        });
    </script>